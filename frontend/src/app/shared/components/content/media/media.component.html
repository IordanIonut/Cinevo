@if (isSkeleton()) {
  <section
    class="relative flex flex-row items-end w-64 h-[26rem] my-4 opacity-custom animate-pulse"
  >
    <!-- Poster placeholder -->
    <div
      class="absolute top-2 left-1/2 -translate-x-1/2 h-72 w-48 rounded-lg bg-gray-300 shadow-xl z-50 animate-pulse"
    ></div>
    <!-- Percent circle placeholder -->
    <app-percent></app-percent>
    <!-- Card placeholder -->
    <div
      class="relative bg-gray-700 rounded-xl shadow-lg overflow-hidden w-full h-fit text-white mt-4"
    >
      <div class="p-4 space-y-2 w-full">
        <!-- Title -->
        <div class="h-6 bg-gray-600 rounded w-3/4"></div>
        <!-- Date + runtime row -->
        <div class="flex flex-row justify-between">
          <div class="h-4 bg-gray-600 rounded w-1/3"></div>
          <div class="h-4 bg-gray-600 rounded w-1/4"></div>
        </div>
        <!-- Button -->
        <div
          class="h-10 bg-gray-600 rounded-3xl mt-2"
        ></div>
      </div>
    </div>
  </section>
} @else {
  <section
    class="relative flex flex-row items-end w-64 h-[26rem] my-4 opacity-custom hover:scale-105"
  >
    <img
      width="320"
      height="480"
      decoding="async"
      fetchpriority="high"
      [src]="
        hovered$()
          ? (currentImage()?.file_path ?? data$()!.poster_path)
          : data$()!.poster_path
      "
      [alt]="data$()!.title"
      class="absolute top-2 left-1/2 -translate-x-1/2 h-72 w-48 rounded-lg object-cover shadow-xl z-50 hover:scale-102"
      (mouseenter)="onPosterHoverEnter()"
      (mouseleave)="onPosterHoverLeave()"
      (focus)="onPosterHoverEnter()"
      (blur)="onPosterHoverLeave()"
    />

    <app-percent [percent$]="data$()!.vote_average"></app-percent>

    <div
      class="relative bg-red-500 rounded-xl shadow-lg overflow-hidden w-full h-fit text-white bg-red-500 border border-red-500 hover:border-red-700 transition-colors"
    >
      <div class="p-4 space-y-2 w-full">
        <p
          class="text-xl font-bold leading-tight line-clamp-1"
          [title]="data$()!.title"
        >
          {{ data$()!.title }}
        </p>

        <div class="flex flex-row justify-between">
          <p class="text-sm text-gray-200">{{ onGetReleaseDateUsingPipe() }}</p>
          @if (
            data$()!.type.toUpperCase() === MediaType.MOVIE.toLocaleUpperCase()
          ) {
            <p class="text-sm text-gray-200">{{ data$()!.runtime }}m</p>
          } @else if (
            data$()!.type.toUpperCase() === MediaType.TV.toLocaleUpperCase()
          ) {
            <p class="text-sm text-gray-200">
              {{ data$()!.season_number }}season
            </p>
          }
        </div>

        <button matButton="tonal" class="w-full" (click)="onOpenTrailer()">
          Watch Trailer
        </button>
      </div>
    </div>
  </section>
}
