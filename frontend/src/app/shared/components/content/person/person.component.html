@if (isSkeleton()) {
  <section
    class="relative flex flex-row items-end w-64 h-[26rem] opacity-custom animate-pulse"
  >
    <!-- Poster placeholder -->
    <div
      class="absolute top-2 left-1/2 -translate-x-1/2 h-72 w-48 rounded-lg bg-gray-300 shadow-xl z-50 animate-pulse"
    ></div>
    <!-- Percent circle placeholder -->
    <app-percent></app-percent>
    <!-- Card placeholder -->
    <div
      class="relative bg-gray-700 rounded-xl shadow-lg overflow-hidden w-full h-fit text-white mt-4"
    >
      <div class="p-4 space-y-2 w-full">
        <!-- Title -->
        <div class="h-6 bg-gray-600 rounded w-3/4"></div>
        <!-- Date + runtime row -->
        <div class="flex flex-row justify-between">
          <div class="h-4 bg-gray-600 rounded w-1/3"></div>
          <div class="h-4 bg-gray-600 rounded w-1/4"></div>
        </div>
        <!-- Button -->
        <div class="h-10 bg-gray-600 rounded-3xl mt-2"></div>
      </div>
    </div>
  </section>
} @else {
  <!-- <section
    class="relative flex flex-row items-end w-64 h-[26rem] opacity-custom hover:scale-105"
  >
    <img
      width="320"
      height="480"
      decoding="async"
      fetchpriority="high"
      [src]="
        hovered$()
          ? (currentImage()?.file_path ?? data$()!.profile_file)
          : data$()!.profile_file
      "
      [alt]="data$()!.name"
      class="absolute top-2 left-1/2 -translate-x-1/2 h-72 w-48 rounded-lg object-cover shadow-xl z-50 hover:scale-102"
      (mouseenter)="onPosterHoverEnter()"
      (mouseleave)="onPosterHoverLeave()"
      (focus)="onPosterHoverEnter()"
      (blur)="onPosterHoverLeave()"
    />

    <app-percent [percent$]="data$()!.popularity"></app-percent>

    <div
      class="relative bg-red-500 rounded-xl shadow-lg overflow-hidden w-full h-fit text-white"
    >
      <div class="p-4 space-y-2 w-full">
        <p
          class="text-xl font-bold leading-tight line-clamp-1"
          [title]="data$()!.name"
        >
          {{ data$()!.name }}
        </p>

        <div class="flex flex-row justify-between">
          <p class="text-sm text-gray-200">
            {{ data$()?.known_for_department }}
          </p>
        </div>

        <button matButton="tonal" class="w-full" (click)="onOpenHomePage()">
          Open Homepage
        </button>
      </div>
    </div>
  </section> -->

  <section
    class="relative flex items-end w-64 h-[26rem] my-4 opacity-custom overflow-hidden rounded-lg bg-red-500 border-2 border-red-500 transition-colors hover:border-red-700 hover:scale-105"
  >
    <img
      width="280"
      height="440"
      decoding="async"
      fetchpriority="high"
      [src]="
        hovered$()
          ? (currentImage()?.file_path ?? data$()!.profile_file)
          : data$()!.profile_file
      "
      [alt]="data$()!.name"
      class="absolute inset-0 left-1/2 -translate-x-1/2 h-full w-full object-cover shadow-xl z-10 transition-transform duration-200"
      (mouseenter)="onPosterHoverEnter()"
      (mouseleave)="onPosterHoverLeave()"
      (focus)="onPosterHoverEnter()"
      (blur)="onPosterHoverLeave()"
    />

    <div class="absolute left-1/2 -translate-x-1/2 z-20 w-full">
      <div
        class="mx-auto rounded-md px-3 py-2 bg-black/30 backdrop-blur-md text-white text-sm font-medium shadow-md opacity-100 transition-opacity duration-200"
      >
        <app-percent [percent$]="data$()!.popularity"></app-percent>

        <div class="p-4 space-y-2 w-full">
          <p
            class="text-xl font-bold leading-tight line-clamp-1"
            [title]="data$()!.name"
          >
            {{ data$()!.name }}
          </p>

          <div class="flex flex-row justify-between">
            <p class="text-sm text-gray-200">
              {{ data$()?.known_for_department }}
            </p>
          </div>

          <button matButton="tonal" class="w-full" (click)="onOpenHomePage()">
            Open Homepage
          </button>
        </div>
      </div>
    </div>
  </section>
}
