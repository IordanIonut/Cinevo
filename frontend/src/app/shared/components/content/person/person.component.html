@if (isSkeleton()) {
  <section
    class="relative flex items-end w-64 h-[26rem] my-4 opacity-custom overflow-hidden rounded-lg bg-gray-500 border-2 border-red-500 transition-colors hover:border-red-700 hover:scale-105 animate-pulse"
  >
    <div
      width="280"
      height="440"
      class="absolute inset-0 left-1/2 -translate-x-1/2 h-full w-full object-cover shadow-xl z-10 transition-transform duration-200 z-50 animate-pulse"
    ></div>

    <div class="absolute left-1/2 -translate-x-1/2 z-50 animate-pulse w-full">
      <div
        class="mx-auto rounded-md px-3 py-2 bg-black/30 backdrop-blur-md text-white text-sm font-medium shadow-md opacity-100 transition-opacity duration-200"
      >
        <app-percent></app-percent>

        <div class="p-4 space-y-2 w-full">
          <p class="h-5 bg-gray-200 rounded w-3/3"></p>

          <div class="flex flex-row justify-between">
            <p class="h-5 bg-gray-200 rounded w-2/3"></p>
          </div>

          <div class="h-10 bg-gray-600 rounded-3xl mt-2"></div>
        </div>
      </div>
    </div>
  </section>
} @else {
  <section
    class="relative flex items-end w-64 h-[26rem] my-4 opacity-custom overflow-hidden rounded-lg bg-red-500 border-2 border-red-500 transition-colors hover:border-red-700 hover:scale-105"
  >
    <img
      width="280"
      height="440"
      decoding="async"
      fetchpriority="high"
      [src]="
        hovered$()
          ? (currentImage()?.file_path ?? data$()!.profile_file)
          : data$()!.profile_file
      "
      [alt]="data$()!.name"
      class="absolute inset-0 left-1/2 -translate-x-1/2 h-full w-full object-cover shadow-xl z-10 transition-transform duration-200"
      (mouseenter)="onPosterHoverEnter()"
      (mouseleave)="onPosterHoverLeave()"
      (focus)="onPosterHoverEnter()"
      (blur)="onPosterHoverLeave()"
    />

    <div class="absolute left-1/2 -translate-x-1/2 z-20 w-full">
      <div
        class="mx-auto rounded-md px-3 py-2 bg-black/30 backdrop-blur-md text-white text-sm font-medium shadow-md opacity-100 transition-opacity duration-200"
      >
        <app-percent [percent$]="data$()!.popularity"></app-percent>

        <div class="p-4 space-y-2 w-full">
          <p
            class="text-xl font-bold leading-tight line-clamp-1"
            [title]="data$()!.name"
          >
            {{ data$()!.name }}
          </p>

          <div class="flex flex-row justify-between">
            <p class="text-sm text-gray-200">
              {{ data$()?.known_for_department }}
            </p>
          </div>

          <button matButton="tonal" class="w-full" (click)="onOpenHomePage()">
            Open Homepage
          </button>
        </div>
      </div>
    </div>
  </section>
}
